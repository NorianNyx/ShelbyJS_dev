{"changed":true,"filter":false,"title":"User.js","tooltip":"/models/User.js","value":"var mongoose = require('mongoose');\nvar bcrypt   = require('bcrypt-nodejs');\n\n// define the schema for our user model\nvar userSchema = mongoose.Schema({\n\n    local            : {\n        email        : String,\n        password     : String,\n    },\n    facebook         : {\n        id           : String,\n        token        : String,\n        email        : String,\n        name         : String\n    },\n    twitter          : {\n        id           : String,\n        token        : String,\n        displayName  : String,\n        username     : String\n    },\n    google           : {\n        id           : String,\n        token        : String,\n        email        : String,\n        name         : String\n    }\n\n});\n\n// methods ======================\n// generating a hash\nuserSchema.methods.generateHash = function(password) {\n    return bcrypt.hashSync(password, bcrypt.genSaltSync(8), null);\n};\n\n// checking if password is valid\nuserSchema.methods.validPassword = function(password) {\n    return bcrypt.compareSync(password, this.local.password);\n};\n\n// create the model for users and expose it to our app\nmodule.exports = mongoose.model('User', userSchema);","undoManager":{"mark":-1,"position":0,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":35}},"text":"var mongoose = require('mongoose');"},{"action":"insertText","range":{"start":{"row":0,"column":35},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":43,"column":0}},"lines":["var bcrypt   = require('bcrypt-nodejs');","","// define the schema for our user model","var userSchema = mongoose.Schema({","","    local            : {","        email        : String,","        password     : String,","    },","    facebook         : {","        id           : String,","        token        : String,","        email        : String,","        name         : String","    },","    twitter          : {","        id           : String,","        token        : String,","        displayName  : String,","        username     : String","    },","    google           : {","        id           : String,","        token        : String,","        email        : String,","        name         : String","    }","","});","","// methods ======================","// generating a hash","userSchema.methods.generateHash = function(password) {","    return bcrypt.hashSync(password, bcrypt.genSaltSync(8), null);","};","","// checking if password is valid","userSchema.methods.validPassword = function(password) {","    return bcrypt.compareSync(password, this.local.password);","};","","// create the model for users and expose it to our app"]},{"action":"insertText","range":{"start":{"row":43,"column":0},"end":{"row":43,"column":52}},"text":"module.exports = mongoose.model('User', userSchema);"}]}]]},"ace":{"folds":[],"scrolltop":163,"scrollleft":0,"selection":{"start":{"row":43,"column":52},"end":{"row":43,"column":52},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":9,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1412296398561}